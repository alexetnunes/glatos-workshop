<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Receiver Efficiency Index</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/paper.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/htmlwidgets-1.2/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.8.0/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<link href="site_libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-1.39.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="site_libs/plotly-main-1.39.2/plotly-latest.min.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="styles.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 64px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 69px;
  margin-top: -69px;
}

.section h2 {
  padding-top: 69px;
  margin-top: -69px;
}
.section h3 {
  padding-top: 69px;
  margin-top: -69px;
}
.section h4 {
  padding-top: 69px;
  margin-top: -69px;
}
.section h5 {
  padding-top: 69px;
  margin-top: -69px;
}
.section h6 {
  padding-top: 69px;
  margin-top: -69px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">GLATOS Workshop 2019</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="residence_index.html">Residence Index</a>
</li>
<li>
  <a href="receiver_efficiency.html">Receiver Efficiency Index</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Receiver Efficiency Index</h1>

</div>


<p>The receiver efficiency index is number between <code>0</code> and <code>1</code> indicating the amount of relative activity at each receiver compared to the entire set of receivers, regardless of positioning. The function takes a set detections and a deployment history of the receivers to create a context for the detections. Both the amount of unique tags and number of species are taken into consideration in the calculation.</p>
<p>The receiver efficiency index implement is implemented based on the paper Acoustic telemetry array evolution: <a href="https://www.sciencedirect.com/science/article/pii/S0165783618302509?via%3Dihub">From species- and project-specific designs to large-scale, multispecies, cooperative networks</a>. Each receiverâ€™s index is calculated on the formula of:</p>
<blockquote>
<p><span class="math inline">\(REI = \frac{T_r}{T_a} \times \frac{S_r}{S_a} \times \frac{DD_r}{DD_a} \times \frac{D_a}{D_r}\)</span></p>
<p>REI = Receiver Efficiency Index</p>
<p><span class="math inline">\(T_r\)</span> = The number of tags detected on the receievr</p>
<p><span class="math inline">\(T_a\)</span> = The number of tags detected across all receivers</p>
<p><span class="math inline">\(S_r\)</span> = The number of species detected on the receiver</p>
<p><span class="math inline">\(S_a\)</span> = The number of species detected across all receivers</p>
<p><span class="math inline">\(DD_a\)</span> = The number of unique days with detections across all receivers</p>
<p><span class="math inline">\(DD_r\)</span> = The number of unique days with detections on the receiver</p>
<p><span class="math inline">\(D_a\)</span> = The number of days the array was active</p>
<p><span class="math inline">\(D_r\)</span> = The number of days the receiver was active</p>
</blockquote>
<div id="importing-libraries" class="section level2">
<h2>Importing Libraries</h2>
<p>We will import <code>dplyr</code>,<code>glatos</code> and <code>plotly</code> to run then visualize the REI.</p>
<pre class="r"><code>library(dplyr)
library(glatos)
library(plotly)</code></pre>
</div>
<div id="importing-data" class="section level2">
<h2>Importing Data</h2>
<p>We will import the sample data below using <code>glatos::read_glatos_detections()</code> and <code>glatis::read_glatos_receivers()</code></p>
<pre class="r"><code>detection_file &lt;- system.file(&quot;extdata&quot;, &quot;walleye_detections.csv&quot;, package = &quot;glatos&quot;)
receiver_file &lt;- system.file(&quot;extdata&quot;, &quot;sample_receivers.csv&quot;, package = &quot;glatos&quot;)

receivers &lt;- read_glatos_receivers(receiver_file)
detections &lt;- read_glatos_detections(detection_file)</code></pre>
</div>
<div id="cleaning-data" class="section level2">
<h2>Cleaning Data</h2>
<p>Below we use <code>dplyr::mutate()</code> to ensure that any recovery times that are set as <code>NA</code> are set to the current date and time. You can replace <code>Sys.time()</code> with the last known download time if you know it.</p>
<pre class="r"><code>receivers &lt;- receivers %&gt;% 
  mutate( recover_date_time = replace(recover_date_time,
                                      is.na(recover_date_time), 
                                      Sys.time()))</code></pre>
</div>
<div id="running-rei" class="section level2">
<h2>Running REI</h2>
<p><code>REI()</code> takes two arguments. The first is a dataframe of detections the detection timstamp, the station identifier, the species, and the tag identifier. The next is a dataframe of deployments for each station. The station name should match the stations in the detections. The deployments need to include a deployment date and recovery date or last download date. Details on the columns metnioned see the preparing data section.</p>
<pre class="r"><code>rei &lt;- glatos::REI(detections,receivers)</code></pre>
</div>
<div id="plotting-with-plotly" class="section level2">
<h2>Plotting with Plotly</h2>
<p>Below is the code for plotting the RI using <code>plotly</code>. <code>plotly</code> allows us to interact with the map rather than haveing a static image. More about <code>plotly</code> can be found <a href="https://plot.ly/r/">here</a>.</p>
<pre class="r"><code>geo &lt;- list(
  scope = &#39;north america&#39;,
  showland = TRUE,
  landcolor = toRGB(&quot;white&quot;),
  showocean = TRUE,
  oceancolor = toRGB(&quot;gray&quot;),
  showcountreies = TRUE,
  showlakes = TRUE,
  lakecolor = plotly::toRGB(&quot;gray&quot;),
  
  resolution = 50,
  center = list(lat = median(rei$latitude),
                lon = median(rei$longitude)),
  lonaxis = list(range=c(min(rei$longitude)-1, max(rei$longitude)+1)),
  lataxis = list(range=c(min(rei$latitude)-1, max(rei$latitude)+1))
)


map &lt;- rei %&gt;% 
  plot_geo(lat = ~latitude, lon = ~longitude, color = ~rei,width=900 )%&gt;%
  add_markers(
    text = ~paste(station, &#39;: &#39;, rei),
    hoverinfo = &quot;text&quot;,
    size = ~c(rei * 5 +5)
  )%&gt;%
  layout(title = &quot;REI&quot;, geo = geo)</code></pre>
<p>To show the map you can just type out the variable name.</p>
<pre class="r"><code>map</code></pre>
<div id="htmlwidget-afde0b107a21550ff93e" style="width:900px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-afde0b107a21550ff93e">{"x":{"visdat":{"10fe37bb6836":["function () ","plotlyVisDat"]},"cur_data":"10fe37bb6836","attrs":{"10fe37bb6836":{"lat":{},"lon":{},"color":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"markers","text":{},"hoverinfo":"text","size":{},"inherit":true}},"layout":{"width":900,"margin":{"b":40,"l":60,"t":25,"r":10},"mapType":"geo","title":"REI","geo":{"domain":{"x":[0,1],"y":[0,1]},"scope":"north america","showland":true,"landcolor":"rgba(255,255,255,1)","showocean":true,"oceancolor":"rgba(190,190,190,1)","showcountreies":true,"showlakes":true,"lakecolor":"rgba(190,190,190,1)","resolution":50,"center":{"lat":44.12922,"lon":-83.350945},"lonaxis":{"range":[-84.99264,-81.47034]},"lataxis":{"range":[40.57098,46.50756]}},"hovermode":"closest","showlegend":false,"legend":{"yanchor":"top","y":0.5}},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"lat":[42.24937,42.12746,42.0769,42.09637,42.35693,42.35278,42.35469,42.35085,42.34447,42.33541,42.33204,45.48983,45.49914,45.50756,41.57098,41.57417,41.57612,41.63532,41.6443,44.45198,44.45157,44.45144,45.33385,45.33986,45.34603,41.63719,41.63648,41.64165,41.63846,41.63288,44.17873,44.1771329411765,44.17255,44.15439,44.14975,44.14524,44.14066,44.13613,44.13149,44.12695,44.12241,44.11781,44.11329,44.10875,44.10408,44.09961,44.09214,44.2464643333333,44.2417948571429,44.2370746835443,44.2323153731343,44.22771,44.2229290625,44.21828,44.21342,44.2088,44.2041,44.19472,42.61334,42.61462,42.55267,42.54992,42.77913,42.76994,42.6352,43.61235,43.60963,43.37698,44.71315,44.90447,44.91327,44.92215,44.9308,44.93957,44.94818,44.95714,44.96585,44.97452,45.00077,45.0095,45.01824,41.62433,43.387016744186,43.39165],"lon":[-83.11824,-83.11873,-83.12096,-83.11681,-82.93016,-82.92844,-82.94291,-82.93774,-82.93849,-83.00901,-83.00352,-83.91048,-83.9059,-83.90137,-83.61776,-83.60687,-83.61071,-83.53083,-83.53426,-83.31861,-83.30572,-83.29315,-83.45837,-83.44852,-83.43862,-82.97453,-82.96842,-82.97328,-82.98027,-82.97516,-83.5477078947368,-83.5417041176471,-83.5309,-83.48782,-83.47694,-83.46626,-83.45551,-83.44487,-83.43403,-83.42327,-83.41245,-83.40174,-83.39079,-83.38007,-83.36923,-83.35869,-83.35204,-83.445841,-83.4350991428571,-83.4244859493671,-83.4138805970149,-83.4031,-83.3923328125,-83.38175,-83.37122,-83.36047,-83.34985,-83.32868,-82.52119,-82.52926,-82.58909,-82.58493,-82.47231,-82.47034,-82.49834,-83.8609006451613,-83.88658,-83.99115,-83.2011,-83.31385,-83.31073,-83.30769,-83.30461,-83.30165,-83.29828,-83.29516,-83.29228,-83.28925,-83.27969,-83.27665,-83.27346,-83.01284,-83.9873130232558,-83.99264],"type":"scattergeo","mode":"markers","text":["DRF-004 :  0.00123833932045778","DRL-004 :  0.0015621252895683","DRL-010 :  0.00141304279305348","DRL-011 :  0.00116226386732385","DRU-001 :  0.00168585798577173","DRU-002 :  0.00157658941261986","DRU-004 :  0.00154792415057222","DRU-005 :  0.00347493176659071","DRU-006 :  0.00329027355677188","DRU-007 :  0.00181140060173345","DRU-008 :  0.00120546305531288","FMP-001 :  0.033496063586153","FMP-002 :  0.00645579740523013","FMP-003 :  0.00903297912800767","MAU-001 :  0.0425679141407362","MAU-002 :  0.00900114484033187","MAU-003 :  0.0278563037321791","MAU-011 :  0.127703742422208","MAU-012 :  0.0448083306744591","OSC-001 :  0.00146785910830125","OSC-002 :  0.00146785910830125","OSC-003 :  0.00104621601574774","PRS-001 :  0.00740311550273672","PRS-002 :  0.0126910551475487","PRS-003 :  0.0105758792896239","RAR-001 :  0.106676218569556","RAR-002 :  0.0902644926357779","RAR-003 :  0.0984703556026668","RAR-004 :  0.0984703556026668","RAR-005 :  0.106676218569556","SBI-001 :  0.00205455995852724","SBI-002 :  0.00216906568869993","SBI-003 :  0.00102573287086111","SBI-007 :  0.000952568708044445","SBI-008 :  0.000939429829312798","SBI-009 :  0.0018788596586256","SBI-010 :  0.0018762716976633","SBI-011 :  0.0018762716976633","SBI-012 :  0.0018762716976633","SBI-013 :  0.0018762716976633","SBI-014 :  0.000938135848831651","SBI-015 :  0.0018762716976633","SBI-016 :  0.0010030730872633","SBI-017 :  0.00100455254609407","SBI-018 :  0.000938135848831651","SBI-019 :  0.000944641645286794","SBI-020 :  0.00100455254609407","SBO-001 :  0.00215989416358915","SBO-002 :  0.00373710082991374","SBO-003 :  0.00285770612413334","SBO-004 :  0.00285770612413334","SBO-005 :  0.00190513741608889","SBO-006 :  0.00285770612413334","SBO-007 :  0.000952568708044445","SBO-008 :  0.000952568708044445","SBO-009 :  0.000956582340241262","SBO-010 :  0.000956582340241262","SBO-012 :  0.000956582340241262","SCL-001 :  0.00176905617208254","SCL-002 :  0.00176905617208254","SCL-004 :  0.00176905617208254","SCL-005 :  0.00335510653325999","SCM-001 :  0.00117835056444944","SCM-002 :  0.00117835056444944","SCM-003 :  0.001621634824409","SGR-001 :  0.00410293148344445","SGR-002 :  0.000255567214353388","SHR-001 :  0.00327445493390278","STG-006 :  0.00109675785225729","THB-003 :  0.00110030149636798","THB-004 :  0.0010414168597122","THB-005 :  0.0010414168597122","THB-006 :  0.0020828337194244","THB-007 :  0.0010414168597122","THB-008 :  0.000994287045623034","THB-009 :  0.000994287045623034","THB-010 :  0.000994287045623034","THB-011 :  0.00110030149636798","THB-014 :  0.000994287045623034","THB-015 :  0.00198857409124607","THB-016 :  0.00194874571173613","TSR-001 :  0.0574410407682223","TTB-001 :  0.00411118687878337","TTB-002 :  0.000270379764292092"],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"marker":{"colorbar":{"title":"rei","ticklen":2},"cmin":0.000255567214353388,"cmax":0.127703742422208,"colorscale":[["0","rgba(68,1,84,1)"],["0.00536030984948421","rgba(68,3,86,1)"],["0.0054689013205118","rgba(68,3,86,1)"],["0.00550039358935182","rgba(68,3,86,1)"],["0.00579623701998769","rgba(68,3,86,1)"],["0.00587678348881152","rgba(68,3,86,1)"],["0.00616603293124574","rgba(68,4,86,1)"],["0.0066060490526485","rgba(68,4,86,1)"],["0.00719838566715167","rgba(68,4,86,1)"],["0.00788249842369604","rgba(68,4,86,1)"],["0.00987849767080592","rgba(69,5,87,1)"],["0.0107396090440691","rgba(69,5,87,1)"],["0.0118753285816828","rgba(69,6,88,1)"],["0.0127165766058769","rgba(69,6,88,1)"],["0.0127250374337065","rgba(69,6,88,1)"],["0.0135586745485818","rgba(69,7,88,1)"],["0.0149659586821227","rgba(69,7,89,1)"],["0.0204172315965774","rgba(69,10,90,1)"],["0.024555044606448","rgba(69,12,92,1)"],["0.0302335583424813","rgba(70,14,94,1)"],["0.0686622882306421","rgba(71,28,106,1)"],["0.17194258186004","rgba(68,59,129,1)"],["0.357835561214389","rgba(48,110,142,1)"],["0.77062530105382","rgba(106,204,91,1)"],["1","rgba(253,231,37,1)"]],"showscale":false,"color":[0.00123833932045778,0.0015621252895683,0.00141304279305348,0.00116226386732385,0.00168585798577173,0.00157658941261986,0.00154792415057222,0.00347493176659071,0.00329027355677188,0.00181140060173345,0.00120546305531288,0.033496063586153,0.00645579740523013,0.00903297912800767,0.0425679141407362,0.00900114484033187,0.0278563037321791,0.127703742422208,0.0448083306744591,0.00146785910830125,0.00146785910830125,0.00104621601574774,0.00740311550273672,0.0126910551475487,0.0105758792896239,0.106676218569556,0.0902644926357779,0.0984703556026668,0.0984703556026668,0.106676218569556,0.00205455995852724,0.00216906568869993,0.00102573287086111,0.000952568708044445,0.000939429829312798,0.0018788596586256,0.0018762716976633,0.0018762716976633,0.0018762716976633,0.0018762716976633,0.000938135848831651,0.0018762716976633,0.0010030730872633,0.00100455254609407,0.000938135848831651,0.000944641645286794,0.00100455254609407,0.00215989416358915,0.00373710082991374,0.00285770612413334,0.00285770612413334,0.00190513741608889,0.00285770612413334,0.000952568708044445,0.000952568708044445,0.000956582340241262,0.000956582340241262,0.000956582340241262,0.00176905617208254,0.00176905617208254,0.00176905617208254,0.00335510653325999,0.00117835056444944,0.00117835056444944,0.001621634824409,0.00410293148344445,0.000255567214353388,0.00327445493390278,0.00109675785225729,0.00110030149636798,0.0010414168597122,0.0010414168597122,0.0020828337194244,0.0010414168597122,0.000994287045623034,0.000994287045623034,0.000994287045623034,0.00110030149636798,0.000994287045623034,0.00198857409124607,0.00194874571173613,0.0574410407682223,0.00411118687878337,0.000270379764292092],"size":[10.6940035775729,10.9226513175065,10.8173738220505,10.6402814213247,11.0100275599686,10.9328654384425,10.9126229078604,12.2734166984252,12.1430167232463,11.0986819123603,10.670787365507,33.4734210088367,14.3784127647871,16.1983396069855,39.8796841709487,16.1758592075122,29.4907952393437,100,41.4617977453974,10.8560834258894,10.8560834258894,10.5583319808968,15.0473798067753,18.7815609141698,17.287888471212,85.1510063313789,73.5615478583087,79.3562770948438,79.3562770948438,85.1510063313789,11.2703936067471,11.351254048246,10.54386741099,10.492201118846,10.4829228448815,11.1463194333401,11.1444918945289,11.1444918945289,11.1444918945289,11.1444918945289,10.4820090754759,11.1444918945289,10.5278657654545,10.528910513993,10.4820090754759,10.4866032697828,10.528910513993,11.3447773979635,12.4585524656544,11.837550843692,11.837550843692,11.1648759812689,11.837550843692,10.492201118846,10.492201118846,10.4950354230416,10.4950354230416,10.4950354230416,11.0687795723515,11.0687795723515,11.0687795723515,12.188799786632,10.651641354403,10.651641354403,10.9646751293573,12.7168908746906,10,12.131846096002,10.5940230786975,10.5965254916936,10.5549429638121,10.5549429638121,11.2903596712011,10.5549429638121,10.5216613317988,10.5216613317988,10.5216613317988,10.5965254916936,10.5216613317988,11.2237964071746,11.1956708247561,50.3826309121685,12.722720582172,10.0104601693379],"sizemode":"area","line":{"colorbar":{"title":"","ticklen":2},"cmin":0.000255567214353388,"cmax":0.127703742422208,"colorscale":[["0","rgba(68,1,84,1)"],["0.00536030984948421","rgba(68,3,86,1)"],["0.0054689013205118","rgba(68,3,86,1)"],["0.00550039358935182","rgba(68,3,86,1)"],["0.00579623701998769","rgba(68,3,86,1)"],["0.00587678348881152","rgba(68,3,86,1)"],["0.00616603293124574","rgba(68,4,86,1)"],["0.0066060490526485","rgba(68,4,86,1)"],["0.00719838566715167","rgba(68,4,86,1)"],["0.00788249842369604","rgba(68,4,86,1)"],["0.00987849767080592","rgba(69,5,87,1)"],["0.0107396090440691","rgba(69,5,87,1)"],["0.0118753285816828","rgba(69,6,88,1)"],["0.0127165766058769","rgba(69,6,88,1)"],["0.0127250374337065","rgba(69,6,88,1)"],["0.0135586745485818","rgba(69,7,88,1)"],["0.0149659586821227","rgba(69,7,89,1)"],["0.0204172315965774","rgba(69,10,90,1)"],["0.024555044606448","rgba(69,12,92,1)"],["0.0302335583424813","rgba(70,14,94,1)"],["0.0686622882306421","rgba(71,28,106,1)"],["0.17194258186004","rgba(68,59,129,1)"],["0.357835561214389","rgba(48,110,142,1)"],["0.77062530105382","rgba(106,204,91,1)"],["1","rgba(253,231,37,1)"]],"showscale":false,"color":[0.00123833932045778,0.0015621252895683,0.00141304279305348,0.00116226386732385,0.00168585798577173,0.00157658941261986,0.00154792415057222,0.00347493176659071,0.00329027355677188,0.00181140060173345,0.00120546305531288,0.033496063586153,0.00645579740523013,0.00903297912800767,0.0425679141407362,0.00900114484033187,0.0278563037321791,0.127703742422208,0.0448083306744591,0.00146785910830125,0.00146785910830125,0.00104621601574774,0.00740311550273672,0.0126910551475487,0.0105758792896239,0.106676218569556,0.0902644926357779,0.0984703556026668,0.0984703556026668,0.106676218569556,0.00205455995852724,0.00216906568869993,0.00102573287086111,0.000952568708044445,0.000939429829312798,0.0018788596586256,0.0018762716976633,0.0018762716976633,0.0018762716976633,0.0018762716976633,0.000938135848831651,0.0018762716976633,0.0010030730872633,0.00100455254609407,0.000938135848831651,0.000944641645286794,0.00100455254609407,0.00215989416358915,0.00373710082991374,0.00285770612413334,0.00285770612413334,0.00190513741608889,0.00285770612413334,0.000952568708044445,0.000952568708044445,0.000956582340241262,0.000956582340241262,0.000956582340241262,0.00176905617208254,0.00176905617208254,0.00176905617208254,0.00335510653325999,0.00117835056444944,0.00117835056444944,0.001621634824409,0.00410293148344445,0.000255567214353388,0.00327445493390278,0.00109675785225729,0.00110030149636798,0.0010414168597122,0.0010414168597122,0.0020828337194244,0.0010414168597122,0.000994287045623034,0.000994287045623034,0.000994287045623034,0.00110030149636798,0.000994287045623034,0.00198857409124607,0.00194874571173613,0.0574410407682223,0.00411118687878337,0.000270379764292092]}},"textfont":{"size":[10.6940035775729,10.9226513175065,10.8173738220505,10.6402814213247,11.0100275599686,10.9328654384425,10.9126229078604,12.2734166984252,12.1430167232463,11.0986819123603,10.670787365507,33.4734210088367,14.3784127647871,16.1983396069855,39.8796841709487,16.1758592075122,29.4907952393437,100,41.4617977453974,10.8560834258894,10.8560834258894,10.5583319808968,15.0473798067753,18.7815609141698,17.287888471212,85.1510063313789,73.5615478583087,79.3562770948438,79.3562770948438,85.1510063313789,11.2703936067471,11.351254048246,10.54386741099,10.492201118846,10.4829228448815,11.1463194333401,11.1444918945289,11.1444918945289,11.1444918945289,11.1444918945289,10.4820090754759,11.1444918945289,10.5278657654545,10.528910513993,10.4820090754759,10.4866032697828,10.528910513993,11.3447773979635,12.4585524656544,11.837550843692,11.837550843692,11.1648759812689,11.837550843692,10.492201118846,10.492201118846,10.4950354230416,10.4950354230416,10.4950354230416,11.0687795723515,11.0687795723515,11.0687795723515,12.188799786632,10.651641354403,10.651641354403,10.9646751293573,12.7168908746906,10,12.131846096002,10.5940230786975,10.5965254916936,10.5549429638121,10.5549429638121,11.2903596712011,10.5549429638121,10.5216613317988,10.5216613317988,10.5216613317988,10.5965254916936,10.5216613317988,11.2237964071746,11.1956708247561,50.3826309121685,12.722720582172,10.0104601693379]},"geo":"geo","frame":null},{"type":"scattergeo","mode":"markers","opacity":0,"hoverinfo":"none","showlegend":false,"marker":{"colorbar":{"title":"rei","ticklen":2,"len":0.5,"lenmode":"fraction","y":1,"yanchor":"top"},"cmin":0.000255567214353388,"cmax":0.127703742422208,"colorscale":[["0","rgba(68,1,84,1)"],["0.00536030984948421","rgba(68,3,86,1)"],["0.0054689013205118","rgba(68,3,86,1)"],["0.00550039358935182","rgba(68,3,86,1)"],["0.00579623701998769","rgba(68,3,86,1)"],["0.00587678348881152","rgba(68,3,86,1)"],["0.00616603293124574","rgba(68,4,86,1)"],["0.0066060490526485","rgba(68,4,86,1)"],["0.00719838566715167","rgba(68,4,86,1)"],["0.00788249842369604","rgba(68,4,86,1)"],["0.00987849767080592","rgba(69,5,87,1)"],["0.0107396090440691","rgba(69,5,87,1)"],["0.0118753285816828","rgba(69,6,88,1)"],["0.0127165766058769","rgba(69,6,88,1)"],["0.0127250374337065","rgba(69,6,88,1)"],["0.0135586745485818","rgba(69,7,88,1)"],["0.0149659586821227","rgba(69,7,89,1)"],["0.0204172315965774","rgba(69,10,90,1)"],["0.024555044606448","rgba(69,12,92,1)"],["0.0302335583424813","rgba(70,14,94,1)"],["0.0686622882306421","rgba(71,28,106,1)"],["0.17194258186004","rgba(68,59,129,1)"],["0.357835561214389","rgba(48,110,142,1)"],["0.77062530105382","rgba(106,204,91,1)"],["1","rgba(253,231,37,1)"]],"showscale":true,"color":[0.000255567214353388,0.127703742422208],"line":{"color":"rgba(255,127,14,1)"}},"lat":[-83.99264,-82.47034],"lon":[41.57098,45.50756],"geo":"geo","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":[]}</script>
</div>
<div id="plotting-with-mapbox" class="section level2">
<h2>Plotting with Mapbox</h2>
<p>Mapbox is a Live Location Platform that can serve up map tiles for use. You can create a free account and get an access token <a href="https://mapbox.com">here</a>. Below we set the access token as an environment variable that <code>plotly</code> can call.</p>
<pre class="r"><code>Sys.setenv(&#39;MAPBOX_TOKEN&#39; = &#39;Your Token Here&#39;)</code></pre>
<p>From there, we can just call the <code>plot_mapbox()</code> <a href="https://plot.ly/r/scattermapbox/">function</a> and pass whatever arguments we need for the map.</p>
<pre class="r"><code>rei_mapbox &lt;- rei %&gt;% 
  plot_mapbox(lat = ~latitude, lon = ~longitude, color = ~rei , width=900) %&gt;%
  add_markers(
    text = ~paste(station, &#39;:&#39;, rei), 
    hoverinfo = &quot;text&quot;,
    size = ~c(rei*6 +10)
  )%&gt;%
  layout(title = &quot;REI Mapbox&quot;, 
    mapbox = list(zoom = 5,
                        center = list(lat = ~median(latitude),
                                      lon = ~median(longitude))
  ))</code></pre>
<p>To show the map you can just type out the variable name.</p>
<pre class="r"><code>rei_mapbox</code></pre>
<div id="htmlwidget-40237adb6c904a7772d1" style="width:900px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-40237adb6c904a7772d1">{"x":{"visdat":{"10fe41aed51d":["function () ","plotlyVisDat"]},"cur_data":"10fe41aed51d","attrs":{"10fe41aed51d":{"lat":{},"lon":{},"color":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"markers","text":{},"hoverinfo":"text","size":{},"inherit":true}},"layout":{"width":900,"margin":{"b":40,"l":60,"t":25,"r":10},"mapType":"mapbox","title":"REI Mapbox","mapbox":{"domain":{"x":[0,1],"y":[0,1]},"zoom":5,"center":{"lat":44.12922,"lon":-83.350945}},"hovermode":"closest","showlegend":false,"legend":{"yanchor":"top","y":0.5}},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false,"mapboxAccessToken":"pk.eyJ1IjoiYW51bmVzIiwiYSI6ImNqcjd2OGs4NDAwNWw0M3J2M20xZ25uMm0ifQ.o4e7GNwVWsZQ4xHP4OSvpg"},"data":[{"lat":[42.24937,42.12746,42.0769,42.09637,42.35693,42.35278,42.35469,42.35085,42.34447,42.33541,42.33204,45.48983,45.49914,45.50756,41.57098,41.57417,41.57612,41.63532,41.6443,44.45198,44.45157,44.45144,45.33385,45.33986,45.34603,41.63719,41.63648,41.64165,41.63846,41.63288,44.17873,44.1771329411765,44.17255,44.15439,44.14975,44.14524,44.14066,44.13613,44.13149,44.12695,44.12241,44.11781,44.11329,44.10875,44.10408,44.09961,44.09214,44.2464643333333,44.2417948571429,44.2370746835443,44.2323153731343,44.22771,44.2229290625,44.21828,44.21342,44.2088,44.2041,44.19472,42.61334,42.61462,42.55267,42.54992,42.77913,42.76994,42.6352,43.61235,43.60963,43.37698,44.71315,44.90447,44.91327,44.92215,44.9308,44.93957,44.94818,44.95714,44.96585,44.97452,45.00077,45.0095,45.01824,41.62433,43.387016744186,43.39165],"lon":[-83.11824,-83.11873,-83.12096,-83.11681,-82.93016,-82.92844,-82.94291,-82.93774,-82.93849,-83.00901,-83.00352,-83.91048,-83.9059,-83.90137,-83.61776,-83.60687,-83.61071,-83.53083,-83.53426,-83.31861,-83.30572,-83.29315,-83.45837,-83.44852,-83.43862,-82.97453,-82.96842,-82.97328,-82.98027,-82.97516,-83.5477078947368,-83.5417041176471,-83.5309,-83.48782,-83.47694,-83.46626,-83.45551,-83.44487,-83.43403,-83.42327,-83.41245,-83.40174,-83.39079,-83.38007,-83.36923,-83.35869,-83.35204,-83.445841,-83.4350991428571,-83.4244859493671,-83.4138805970149,-83.4031,-83.3923328125,-83.38175,-83.37122,-83.36047,-83.34985,-83.32868,-82.52119,-82.52926,-82.58909,-82.58493,-82.47231,-82.47034,-82.49834,-83.8609006451613,-83.88658,-83.99115,-83.2011,-83.31385,-83.31073,-83.30769,-83.30461,-83.30165,-83.29828,-83.29516,-83.29228,-83.28925,-83.27969,-83.27665,-83.27346,-83.01284,-83.9873130232558,-83.99264],"type":"scattermapbox","mode":"markers","text":["DRF-004 : 0.00123833932045778","DRL-004 : 0.0015621252895683","DRL-010 : 0.00141304279305348","DRL-011 : 0.00116226386732385","DRU-001 : 0.00168585798577173","DRU-002 : 0.00157658941261986","DRU-004 : 0.00154792415057222","DRU-005 : 0.00347493176659071","DRU-006 : 0.00329027355677188","DRU-007 : 0.00181140060173345","DRU-008 : 0.00120546305531288","FMP-001 : 0.033496063586153","FMP-002 : 0.00645579740523013","FMP-003 : 0.00903297912800767","MAU-001 : 0.0425679141407362","MAU-002 : 0.00900114484033187","MAU-003 : 0.0278563037321791","MAU-011 : 0.127703742422208","MAU-012 : 0.0448083306744591","OSC-001 : 0.00146785910830125","OSC-002 : 0.00146785910830125","OSC-003 : 0.00104621601574774","PRS-001 : 0.00740311550273672","PRS-002 : 0.0126910551475487","PRS-003 : 0.0105758792896239","RAR-001 : 0.106676218569556","RAR-002 : 0.0902644926357779","RAR-003 : 0.0984703556026668","RAR-004 : 0.0984703556026668","RAR-005 : 0.106676218569556","SBI-001 : 0.00205455995852724","SBI-002 : 0.00216906568869993","SBI-003 : 0.00102573287086111","SBI-007 : 0.000952568708044445","SBI-008 : 0.000939429829312798","SBI-009 : 0.0018788596586256","SBI-010 : 0.0018762716976633","SBI-011 : 0.0018762716976633","SBI-012 : 0.0018762716976633","SBI-013 : 0.0018762716976633","SBI-014 : 0.000938135848831651","SBI-015 : 0.0018762716976633","SBI-016 : 0.0010030730872633","SBI-017 : 0.00100455254609407","SBI-018 : 0.000938135848831651","SBI-019 : 0.000944641645286794","SBI-020 : 0.00100455254609407","SBO-001 : 0.00215989416358915","SBO-002 : 0.00373710082991374","SBO-003 : 0.00285770612413334","SBO-004 : 0.00285770612413334","SBO-005 : 0.00190513741608889","SBO-006 : 0.00285770612413334","SBO-007 : 0.000952568708044445","SBO-008 : 0.000952568708044445","SBO-009 : 0.000956582340241262","SBO-010 : 0.000956582340241262","SBO-012 : 0.000956582340241262","SCL-001 : 0.00176905617208254","SCL-002 : 0.00176905617208254","SCL-004 : 0.00176905617208254","SCL-005 : 0.00335510653325999","SCM-001 : 0.00117835056444944","SCM-002 : 0.00117835056444944","SCM-003 : 0.001621634824409","SGR-001 : 0.00410293148344445","SGR-002 : 0.000255567214353388","SHR-001 : 0.00327445493390278","STG-006 : 0.00109675785225729","THB-003 : 0.00110030149636798","THB-004 : 0.0010414168597122","THB-005 : 0.0010414168597122","THB-006 : 0.0020828337194244","THB-007 : 0.0010414168597122","THB-008 : 0.000994287045623034","THB-009 : 0.000994287045623034","THB-010 : 0.000994287045623034","THB-011 : 0.00110030149636798","THB-014 : 0.000994287045623034","THB-015 : 0.00198857409124607","THB-016 : 0.00194874571173613","TSR-001 : 0.0574410407682223","TTB-001 : 0.00411118687878337","TTB-002 : 0.000270379764292092"],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"marker":{"colorbar":{"title":"rei","ticklen":2},"cmin":0.000255567214353388,"cmax":0.127703742422208,"colorscale":[["0","rgba(68,1,84,1)"],["0.00536030984948421","rgba(68,3,86,1)"],["0.0054689013205118","rgba(68,3,86,1)"],["0.00550039358935182","rgba(68,3,86,1)"],["0.00579623701998769","rgba(68,3,86,1)"],["0.00587678348881152","rgba(68,3,86,1)"],["0.00616603293124574","rgba(68,4,86,1)"],["0.0066060490526485","rgba(68,4,86,1)"],["0.00719838566715167","rgba(68,4,86,1)"],["0.00788249842369604","rgba(68,4,86,1)"],["0.00987849767080592","rgba(69,5,87,1)"],["0.0107396090440691","rgba(69,5,87,1)"],["0.0118753285816828","rgba(69,6,88,1)"],["0.0127165766058769","rgba(69,6,88,1)"],["0.0127250374337065","rgba(69,6,88,1)"],["0.0135586745485818","rgba(69,7,88,1)"],["0.0149659586821227","rgba(69,7,89,1)"],["0.0204172315965774","rgba(69,10,90,1)"],["0.024555044606448","rgba(69,12,92,1)"],["0.0302335583424813","rgba(70,14,94,1)"],["0.0686622882306421","rgba(71,28,106,1)"],["0.17194258186004","rgba(68,59,129,1)"],["0.357835561214389","rgba(48,110,142,1)"],["0.77062530105382","rgba(106,204,91,1)"],["1","rgba(253,231,37,1)"]],"showscale":false,"color":[0.00123833932045778,0.0015621252895683,0.00141304279305348,0.00116226386732385,0.00168585798577173,0.00157658941261986,0.00154792415057222,0.00347493176659071,0.00329027355677188,0.00181140060173345,0.00120546305531288,0.033496063586153,0.00645579740523013,0.00903297912800767,0.0425679141407362,0.00900114484033187,0.0278563037321791,0.127703742422208,0.0448083306744591,0.00146785910830125,0.00146785910830125,0.00104621601574774,0.00740311550273672,0.0126910551475487,0.0105758792896239,0.106676218569556,0.0902644926357779,0.0984703556026668,0.0984703556026668,0.106676218569556,0.00205455995852724,0.00216906568869993,0.00102573287086111,0.000952568708044445,0.000939429829312798,0.0018788596586256,0.0018762716976633,0.0018762716976633,0.0018762716976633,0.0018762716976633,0.000938135848831651,0.0018762716976633,0.0010030730872633,0.00100455254609407,0.000938135848831651,0.000944641645286794,0.00100455254609407,0.00215989416358915,0.00373710082991374,0.00285770612413334,0.00285770612413334,0.00190513741608889,0.00285770612413334,0.000952568708044445,0.000952568708044445,0.000956582340241262,0.000956582340241262,0.000956582340241262,0.00176905617208254,0.00176905617208254,0.00176905617208254,0.00335510653325999,0.00117835056444944,0.00117835056444944,0.001621634824409,0.00410293148344445,0.000255567214353388,0.00327445493390278,0.00109675785225729,0.00110030149636798,0.0010414168597122,0.0010414168597122,0.0020828337194244,0.0010414168597122,0.000994287045623034,0.000994287045623034,0.000994287045623034,0.00110030149636798,0.000994287045623034,0.00198857409124607,0.00194874571173613,0.0574410407682223,0.00411118687878337,0.000270379764292092],"size":[10.6940035775729,10.9226513175064,10.8173738220505,10.6402814213246,11.0100275599686,10.9328654384424,10.9126229078603,12.2734166984251,12.1430167232463,11.0986819123603,10.6707873655069,33.4734210088367,14.378412764787,16.1983396069856,39.8796841709487,16.1758592075122,29.4907952393437,100,41.4617977453974,10.8560834258893,10.8560834258893,10.5583319808968,15.0473798067752,18.7815609141698,17.287888471212,85.1510063313788,73.5615478583087,79.3562770948439,79.3562770948439,85.1510063313788,11.270393606747,11.3512540482459,10.5438674109899,10.4922011188459,10.4829228448814,11.1463194333401,11.1444918945289,11.1444918945289,11.1444918945289,11.1444918945289,10.482009075476,11.1444918945289,10.5278657654545,10.5289105139928,10.482009075476,10.4866032697828,10.5289105139928,11.3447773979635,12.4585524656543,11.8375508436919,11.8375508436919,11.164875981269,11.8375508436919,10.4922011188459,10.4922011188459,10.4950354230416,10.4950354230416,10.4950354230416,11.0687795723513,11.0687795723513,11.0687795723513,12.188799786632,10.651641354403,10.651641354403,10.9646751293574,12.7168908746905,10,12.131846096002,10.5940230786974,10.5965254916936,10.554942963812,10.554942963812,11.2903596712011,10.554942963812,10.5216613317987,10.5216613317987,10.5216613317987,10.5965254916936,10.5216613317987,11.2237964071746,11.1956708247561,50.3826309121686,12.7227205821719,10.0104601693379],"sizemode":"area","line":{"colorbar":{"title":"","ticklen":2},"cmin":0.000255567214353388,"cmax":0.127703742422208,"colorscale":[["0","rgba(68,1,84,1)"],["0.00536030984948421","rgba(68,3,86,1)"],["0.0054689013205118","rgba(68,3,86,1)"],["0.00550039358935182","rgba(68,3,86,1)"],["0.00579623701998769","rgba(68,3,86,1)"],["0.00587678348881152","rgba(68,3,86,1)"],["0.00616603293124574","rgba(68,4,86,1)"],["0.0066060490526485","rgba(68,4,86,1)"],["0.00719838566715167","rgba(68,4,86,1)"],["0.00788249842369604","rgba(68,4,86,1)"],["0.00987849767080592","rgba(69,5,87,1)"],["0.0107396090440691","rgba(69,5,87,1)"],["0.0118753285816828","rgba(69,6,88,1)"],["0.0127165766058769","rgba(69,6,88,1)"],["0.0127250374337065","rgba(69,6,88,1)"],["0.0135586745485818","rgba(69,7,88,1)"],["0.0149659586821227","rgba(69,7,89,1)"],["0.0204172315965774","rgba(69,10,90,1)"],["0.024555044606448","rgba(69,12,92,1)"],["0.0302335583424813","rgba(70,14,94,1)"],["0.0686622882306421","rgba(71,28,106,1)"],["0.17194258186004","rgba(68,59,129,1)"],["0.357835561214389","rgba(48,110,142,1)"],["0.77062530105382","rgba(106,204,91,1)"],["1","rgba(253,231,37,1)"]],"showscale":false,"color":[0.00123833932045778,0.0015621252895683,0.00141304279305348,0.00116226386732385,0.00168585798577173,0.00157658941261986,0.00154792415057222,0.00347493176659071,0.00329027355677188,0.00181140060173345,0.00120546305531288,0.033496063586153,0.00645579740523013,0.00903297912800767,0.0425679141407362,0.00900114484033187,0.0278563037321791,0.127703742422208,0.0448083306744591,0.00146785910830125,0.00146785910830125,0.00104621601574774,0.00740311550273672,0.0126910551475487,0.0105758792896239,0.106676218569556,0.0902644926357779,0.0984703556026668,0.0984703556026668,0.106676218569556,0.00205455995852724,0.00216906568869993,0.00102573287086111,0.000952568708044445,0.000939429829312798,0.0018788596586256,0.0018762716976633,0.0018762716976633,0.0018762716976633,0.0018762716976633,0.000938135848831651,0.0018762716976633,0.0010030730872633,0.00100455254609407,0.000938135848831651,0.000944641645286794,0.00100455254609407,0.00215989416358915,0.00373710082991374,0.00285770612413334,0.00285770612413334,0.00190513741608889,0.00285770612413334,0.000952568708044445,0.000952568708044445,0.000956582340241262,0.000956582340241262,0.000956582340241262,0.00176905617208254,0.00176905617208254,0.00176905617208254,0.00335510653325999,0.00117835056444944,0.00117835056444944,0.001621634824409,0.00410293148344445,0.000255567214353388,0.00327445493390278,0.00109675785225729,0.00110030149636798,0.0010414168597122,0.0010414168597122,0.0020828337194244,0.0010414168597122,0.000994287045623034,0.000994287045623034,0.000994287045623034,0.00110030149636798,0.000994287045623034,0.00198857409124607,0.00194874571173613,0.0574410407682223,0.00411118687878337,0.000270379764292092]}},"textfont":{"size":[]},"subplot":"mapbox","frame":null},{"type":"scattermapbox","mode":"markers","opacity":0,"hoverinfo":"none","showlegend":false,"marker":{"colorbar":{"title":"rei","ticklen":2,"len":0.5,"lenmode":"fraction","y":1,"yanchor":"top"},"cmin":0.000255567214353388,"cmax":0.127703742422208,"colorscale":[["0","rgba(68,1,84,1)"],["0.00536030984948421","rgba(68,3,86,1)"],["0.0054689013205118","rgba(68,3,86,1)"],["0.00550039358935182","rgba(68,3,86,1)"],["0.00579623701998769","rgba(68,3,86,1)"],["0.00587678348881152","rgba(68,3,86,1)"],["0.00616603293124574","rgba(68,4,86,1)"],["0.0066060490526485","rgba(68,4,86,1)"],["0.00719838566715167","rgba(68,4,86,1)"],["0.00788249842369604","rgba(68,4,86,1)"],["0.00987849767080592","rgba(69,5,87,1)"],["0.0107396090440691","rgba(69,5,87,1)"],["0.0118753285816828","rgba(69,6,88,1)"],["0.0127165766058769","rgba(69,6,88,1)"],["0.0127250374337065","rgba(69,6,88,1)"],["0.0135586745485818","rgba(69,7,88,1)"],["0.0149659586821227","rgba(69,7,89,1)"],["0.0204172315965774","rgba(69,10,90,1)"],["0.024555044606448","rgba(69,12,92,1)"],["0.0302335583424813","rgba(70,14,94,1)"],["0.0686622882306421","rgba(71,28,106,1)"],["0.17194258186004","rgba(68,59,129,1)"],["0.357835561214389","rgba(48,110,142,1)"],["0.77062530105382","rgba(106,204,91,1)"],["1","rgba(253,231,37,1)"]],"showscale":true,"color":[0.000255567214353388,0.127703742422208],"line":{"color":"rgba(255,127,14,1)"}},"lat":[-83.99264,-82.47034],"lon":[41.57098,45.50756],"subplot":"mapbox","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":[]}</script>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
